{"ast":null,"code":"var _jsxFileName = \"/Users/jawaadahmar/Desktop/atlas-clothing/client/src/context/StateContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { toast } from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/createContext();\nexport const StateContext = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [showCart, setShowCart] = useState(false);\n  const [cartItems, setCartItems] = useState([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [totalQuantities, setTotalQuantities] = useState(0);\n  const [qty, setQty] = useState(1);\n  let foundProduct;\n  let index;\n  const onAdd = (product, quantity) => {\n    const checkProductInCart = cartItems.find(item => item._id === product._id);\n    setTotalPrice(prevTotalPrice => prevTotalPrice + product.price * quantity);\n    setTotalQuantities(prevTotalQuantities => prevTotalQuantities + quantity);\n    if (checkProductInCart) {\n      const updatedCartItems = cartItems.map(cartProduct => {\n        if (cartProduct._id === product._id) return {\n          ...cartProduct,\n          quantity: cartProduct.quantity + quantity\n        };\n      });\n      setCartItems(updatedCartItems);\n    } else {\n      product.quantity = quantity;\n      setCartItems([...cartItems, {\n        ...product\n      }]);\n    }\n    toast.success(`${qty} ${product.name} added to the cart.`);\n  };\n  const onRemove = product => {\n    foundProduct = cartItems.find(item => item._id === product._id);\n    const newCartItems = cartItems.filter(item => item._id !== product._id);\n    setTotalPrice(prevTotalPrice => prevTotalPrice - foundProduct.price * foundProduct.quantity);\n    setTotalQuantities(prevTotalQuantities => prevTotalQuantities - foundProduct.quantity);\n    setCartItems(newCartItems);\n  };\n  /// left off here fri 14/2023 FIX THIS, UPDATING ORDER OF STUFF IN CART\n  const toggleCartItemQuantity = (id, value) => {\n    foundProduct = cartItems.find(item => item._id === id);\n    index = cartItems.findIndex(product => product._id === id);\n    const newCartItems = cartItems.filter(item => item._id !== id);\n    if (value === 'inc') {\n      setCartItems(prevCartItems => prevCartItems.map(item => {\n        if (item._id === id) {\n          return {\n            ...item,\n            quantity: foundProduct.quantity + 1\n          };\n        }\n        return item;\n      }));\n      setTotalPrice(prevTotalPrice => prevTotalPrice + foundProduct.price);\n      setTotalQuantities(prevTotalQuantities => prevTotalQuantities + 1);\n    } else if (value === 'dec') {\n      if (foundProduct.quantity > 1) {\n        setCartItems(prevCartItems => prevCartItems.map(item => {\n          if (item._id === id) {\n            return {\n              ...item,\n              quantity: foundProduct.quantity - 1\n            };\n          }\n          return item;\n        }));\n        setTotalPrice(prevTotalPrice => prevTotalPrice - foundProduct.price);\n        setTotalQuantities(prevTotalQuantities => prevTotalQuantities - 1);\n      }\n    }\n  };\n  const incQty = () => {\n    setQty(prevQty => prevQty + 1);\n  };\n  const decQty = () => {\n    setQty(prevQty => {\n      if (prevQty - 1 < 1) return 1;\n      return prevQty - 1;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      showCart,\n      setShowCart,\n      cartItems,\n      totalPrice,\n      totalQuantities,\n      qty,\n      incQty,\n      decQty,\n      onAdd,\n      toggleCartItemQuantity,\n      onRemove,\n      setCartItems,\n      setTotalPrice,\n      setTotalQuantities\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n_s(StateContext, \"lTN9mPmtXpsm72zCYW+oCcRZHaw=\");\n_c = StateContext;\nexport const useStateContext = () => {\n  _s2();\n  return useContext(Context);\n};\n_s2(useStateContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"StateContext\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","toast","jsxDEV","_jsxDEV","Context","StateContext","_ref","_s","children","showCart","setShowCart","cartItems","setCartItems","totalPrice","setTotalPrice","totalQuantities","setTotalQuantities","qty","setQty","foundProduct","index","onAdd","product","quantity","checkProductInCart","find","item","_id","prevTotalPrice","price","prevTotalQuantities","updatedCartItems","map","cartProduct","success","name","onRemove","newCartItems","filter","toggleCartItemQuantity","id","value","findIndex","prevCartItems","incQty","prevQty","decQty","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useStateContext","_s2","$RefreshReg$"],"sources":["/Users/jawaadahmar/Desktop/atlas-clothing/client/src/context/StateContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { toast } from 'react-hot-toast';\n\nconst Context = createContext();\n\nexport const StateContext = ({ children }) => {\n  const [showCart, setShowCart] = useState(false);\n  const [cartItems, setCartItems] = useState([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [totalQuantities, setTotalQuantities] = useState(0);\n  const [qty, setQty] = useState(1);\n\n  let foundProduct;\n  let index;\n\n  const onAdd = (product, quantity) => {\n    const checkProductInCart = cartItems.find((item) => item._id === product._id);\n    \n    setTotalPrice((prevTotalPrice) => prevTotalPrice + product.price * quantity);\n    setTotalQuantities((prevTotalQuantities) => prevTotalQuantities + quantity);\n    \n    if(checkProductInCart) {\n      const updatedCartItems = cartItems.map((cartProduct) => {\n        if(cartProduct._id === product._id) return {\n          ...cartProduct,\n          quantity: cartProduct.quantity + quantity\n        }\n      })\n\n      setCartItems(updatedCartItems);\n    } else {\n      product.quantity = quantity;\n      \n      setCartItems([...cartItems, { ...product }]);\n    }\n\n    toast.success(`${qty} ${product.name} added to the cart.`);\n  } \n\n  const onRemove = (product) => {\n    foundProduct = cartItems.find((item) => item._id === product._id);\n    const newCartItems = cartItems.filter((item) => item._id !== product._id);\n\n    setTotalPrice((prevTotalPrice) => prevTotalPrice -foundProduct.price * foundProduct.quantity);\n    setTotalQuantities(prevTotalQuantities => prevTotalQuantities - foundProduct.quantity);\n    setCartItems(newCartItems);\n  }\n  /// left off here fri 14/2023 FIX THIS, UPDATING ORDER OF STUFF IN CART\n  const toggleCartItemQuantity = (id, value) => {\n    foundProduct = cartItems.find((item) => item._id === id)\n    index = cartItems.findIndex((product) => product._id === id);\n    const newCartItems = cartItems.filter((item) => item._id !== id)\n\n    if(value === 'inc') {\n        setCartItems( prevCartItems => \n            prevCartItems.map( item => {          \n                if (item._id === id){\n                    return {...item, quantity: foundProduct.quantity + 1}\n                }\n                return item\n            })\n        );\n      setTotalPrice((prevTotalPrice) => prevTotalPrice + foundProduct.price)\n      setTotalQuantities(prevTotalQuantities => prevTotalQuantities + 1)\n    } else if(value === 'dec') {\n      if (foundProduct.quantity > 1) {\n        setCartItems( prevCartItems => \n            prevCartItems.map( item => {          \n                if (item._id === id){\n                    return {...item, quantity: foundProduct.quantity - 1}\n                }\n                return item\n            })\n        );\n        setTotalPrice((prevTotalPrice) => prevTotalPrice - foundProduct.price)\n        setTotalQuantities(prevTotalQuantities => prevTotalQuantities - 1)\n      }\n    }\n\n\n    \n    \n  }\n\n  const incQty = () => {\n    setQty((prevQty) => prevQty + 1);\n  }\n\n  const decQty = () => {\n    setQty((prevQty) => {\n      if(prevQty - 1 < 1) return 1;\n     \n      return prevQty - 1;\n    });\n  }\n\n  return (\n    <Context.Provider\n      value={{\n        showCart,\n        setShowCart,\n        cartItems,\n        totalPrice,\n        totalQuantities,\n        qty,\n        incQty,\n        decQty,\n        onAdd,\n        toggleCartItemQuantity,\n        onRemove,\n        setCartItems,\n        setTotalPrice,\n        setTotalQuantities \n      }}\n    >\n      {children}\n    </Context.Provider>\n  )\n}\n\nexport const useStateContext = () => useContext(Context);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}