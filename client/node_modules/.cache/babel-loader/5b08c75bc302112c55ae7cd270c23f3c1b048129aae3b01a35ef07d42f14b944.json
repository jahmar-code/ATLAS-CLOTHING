{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jawaadahmar/Desktop/atlas-clothing/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jawaadahmar/Desktop/atlas-clothing/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jawaadahmar/Desktop/atlas-clothing/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{client,urlFor}from'../../lib/client';import{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{AiOutlineMinus,AiOutlinePlus,AiFillStar,AiOutlineStar}from'react-icons/ai';import{Product}from'../../components';import{useStateContext}from'../../context/StateContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductDetails(){var _useStateContext=useStateContext(),decQty=_useStateContext.decQty,incQty=_useStateContext.incQty,qty=_useStateContext.qty,onAdd=_useStateContext.onAdd;var _useParams=useParams(),slug=_useParams.slug;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),products=_useState4[0],setProducts=_useState4[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var query,productQuery,_product,_products;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;query=\"*[_type == \\\"product\\\" && slug.current == '\".concat(slug,\"'][0]\");// Modify this query based on your schema\nproductQuery='*[_type == \"product\"]';_context.next=5;return client.fetch(query);case 5:_product=_context.sent;_context.next=8;return client.fetch(productQuery);case 8:_products=_context.sent;setProduct(_product);setProducts(_products);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.error('Error fetching data from Sanity:',_context.t0);case 16:case\"end\":return _context.stop();}},_callee,null,[[0,13]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var image=product.image,name=product.name,details=product.details,price=product.price;var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),index=_useState6[0],setIndex=_useState6[1];return/*#__PURE__*/ (// <div>\n//     <div className='product-detail-container'>\n//         <div className='image-container'>\n//             {image && (\n//                 <img src={urlFor(image && image[0])}/>  \n//             )}\n//         </div>\n//         {/* <div className='small-images-container'>\n//             {image?.map((item,i) => \n//                 <img \n//                     src={urlFor(item)}\n//                     className=''\n//                     onMouseEnter=''\n//                 />\n//             )}\n//         </div> */}\n//         <div className='product-details-desc'>\n//             <h1>{name}</h1>\n//             <div className='reviews'>\n//                 <div>\n//                     <AiFillStar />\n//                     <AiFillStar />\n//                     <AiFillStar />\n//                     <AiFillStar />\n//                     <AiOutlineStar />\n//                 </div>\n//                 <h4>Details: </h4>\n//                 <p>{details}</p>\n//                 <p className='price'>${price}</p>\n//                 <div clas></div>\n//             </div>\n//         </div>\n//     </div>\n// </div>\n// fix this \"product details in vid\"\n_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-detail-container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-container\",children:image&&/*#__PURE__*/_jsx(\"img\",{src:urlFor(image&&image[index]),className:\"product-detail-image\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"small-images-container\",children:image===null||image===void 0?void 0:image.map(function(item,i){return/*#__PURE__*/_jsx(\"img\",{src:urlFor(item),className:i===index?'small-image selected-image':'small-image',onMouseEnter:function onMouseEnter(){return setIndex(i);}},i);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-detail-desc\",children:[/*#__PURE__*/_jsx(\"h1\",{children:name}),/*#__PURE__*/_jsx(\"div\",{className:\"reviews\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Details: \"}),/*#__PURE__*/_jsx(\"p\",{children:details}),/*#__PURE__*/_jsxs(\"p\",{className:\"price\",children:[\"$\",price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Quantity:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"quantity-desc\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"minus\",onClick:decQty,children:/*#__PURE__*/_jsx(AiOutlineMinus,{})}),/*#__PURE__*/_jsx(\"span\",{className:\"num\",children:qty}),/*#__PURE__*/_jsx(\"span\",{className:\"plus\",onClick:incQty,children:/*#__PURE__*/_jsx(AiOutlinePlus,{})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"add-to-cart\",onClick:function onClick(){return onAdd(product,qty);},children:\"Add to Cart\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"buy-now\",onClick:\"\",children:\"Buy Now\"})]})]})]})}));}","map":{"version":3,"names":["React","client","urlFor","useEffect","useState","useParams","AiOutlineMinus","AiOutlinePlus","AiFillStar","AiOutlineStar","Product","useStateContext","jsx","_jsx","jsxs","_jsxs","ProductDetails","_useStateContext","decQty","incQty","qty","onAdd","_useParams","slug","_useState","_useState2","_slicedToArray","product","setProduct","_useState3","_useState4","products","setProducts","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","query","productQuery","_product","_products","wrap","_callee$","_context","prev","next","concat","fetch","sent","t0","console","error","stop","apply","arguments","image","name","details","price","_useState5","_useState6","index","setIndex","children","className","src","map","item","i","onMouseEnter","onClick","type"],"sources":["/Users/jawaadahmar/Desktop/atlas-clothing/client/src/pages/product/[slug].js"],"sourcesContent":["import React from 'react'\nimport { client, urlFor }  from '../../lib/client'\nimport { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom';\nimport { AiOutlineMinus, AiOutlinePlus, AiFillStar, AiOutlineStar } from 'react-icons/ai';\nimport { Product } from '../../components';\nimport { useStateContext } from '../../context/StateContext';\n\n\n\n\n\n\n\n\nexport default function ProductDetails() {\n    \n\n    const { decQty, incQty, qty, onAdd} = useStateContext();\n\n\n\n    \n    const { slug } = useParams();\n\n    const [product, setProduct] = useState([])\n    const [products, setProducts] = useState([])\n\n\n    useEffect(() => {\n      const fetchData = async () => {\n        try {\n          const query = `*[_type == \"product\" && slug.current == '${slug}'][0]`; // Modify this query based on your schema\n          const productQuery = '*[_type == \"product\"]'\n\n          const product = await client.fetch(query);\n          const products = await client.fetch(productQuery);\n\n          setProduct(product);\n          setProducts(products);\n\n\n        } catch (error) {\n          console.error('Error fetching data from Sanity:', error);\n        }\n      };\n  \n      fetchData();\n    }, []); \n  \n    const { image, name, details, price } = product\n    const [index, setIndex] = useState(0)\n\n    return (\n    // <div>\n    //     <div className='product-detail-container'>\n    //         <div className='image-container'>\n    //             {image && (\n    //                 <img src={urlFor(image && image[0])}/>  \n    //             )}\n    //         </div>\n    //         {/* <div className='small-images-container'>\n    //             {image?.map((item,i) => \n    //                 <img \n    //                     src={urlFor(item)}\n    //                     className=''\n    //                     onMouseEnter=''\n    //                 />\n    //             )}\n\n    //         </div> */}\n    //         <div className='product-details-desc'>\n    //             <h1>{name}</h1>\n    //             <div className='reviews'>\n    //                 <div>\n    //                     <AiFillStar />\n    //                     <AiFillStar />\n    //                     <AiFillStar />\n    //                     <AiFillStar />\n    //                     <AiOutlineStar />\n    //                 </div>\n\n    //                 <h4>Details: </h4>\n    //                 <p>{details}</p>\n    //                 <p className='price'>${price}</p>\n    //                 <div clas></div>\n    //             </div>\n    //         </div>\n    //     </div>\n    // </div>\n\n\n\n    // fix this \"product details in vid\"\n    <div>\n    <div className=\"product-detail-container\">\n      <div>\n        <div className=\"image-container\">\n        {image && (\n                     <img src={urlFor(image && image[index])}\n                     className='product-detail-image'/>  \n                 )}\n        </div>\n        <div className=\"small-images-container\">\n          {image?.map((item, i) => (\n            <img \n              key={i}\n              src={urlFor(item)}\n              className={i === index ? 'small-image selected-image' : 'small-image'}\n              onMouseEnter={() => setIndex(i)}\n            />\n          ))}\n        </div>\n      </div>\n\n      <div className=\"product-detail-desc\">\n        <h1>{name}</h1>\n        <div className=\"reviews\">\n          {/* <div>\n            <AiFillStar />\n            <AiFillStar />\n            <AiFillStar />\n            <AiFillStar />\n            <AiOutlineStar />\n          </div>\n          <p>\n            (20)\n          </p> */}\n        </div>\n        <h4>Details: </h4>\n        <p>{details}</p>\n        <p className=\"price\">${price}</p>\n        <div className=\"quantity\">\n          <h3>Quantity:</h3>\n          <p className=\"quantity-desc\">\n            <span className=\"minus\" onClick={decQty}><AiOutlineMinus /></span>\n            <span className=\"num\">{qty}</span>\n            <span className=\"plus\" onClick={incQty}><AiOutlinePlus /></span>\n          </p>\n        </div>\n        <div className=\"buttons\">\n          <button type=\"button\" className=\"add-to-cart\" onClick={() => onAdd(product,qty)}>Add to Cart</button>\n          <button type=\"button\" className=\"buy-now\" onClick=''>Buy Now</button>\n        </div>\n      </div>\n    </div>\n\n    {/* <div className=\"maylike-products-wrapper\">\n        <h2>You may also like</h2>\n        <div className=\"marquee\">\n          <div className=\"maylike-products-container track\">\n            {products.map((item) => (\n              <Product key={item._id} product={item} />\n            ))}\n          </div>\n        </div>\n    </div> */}\n  </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}