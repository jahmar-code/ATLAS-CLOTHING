{"ast":null,"code":"import _toConsumableArray from\"/Users/jawaadahmar/Desktop/atlas-clothing/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/jawaadahmar/Desktop/atlas-clothing/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/jawaadahmar/Desktop/atlas-clothing/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useContext,useState,useEffect}from'react';import{toast}from'react-hot-toast';import{jsx as _jsx}from\"react/jsx-runtime\";var Context=/*#__PURE__*/createContext();export var StateContext=function StateContext(_ref){var children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showCart=_useState2[0],setShowCart=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cartItems=_useState4[0],setCartItems=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),totalPrice=_useState6[0],setTotalPrice=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),totalQuantities=_useState8[0],setTotalQuantities=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),qty=_useState10[0],setQty=_useState10[1];var foundProduct;var index;var onAdd=function onAdd(product,quantity){var checkProductInCart=cartItems.find(function(item){return item._id===product._id;});setTotalPrice(function(prevTotalPrice){return prevTotalPrice+product.price*quantity;});setTotalQuantities(function(prevTotalQuantities){return prevTotalQuantities+quantity;});if(checkProductInCart){var updatedCartItems=cartItems.map(function(cartProduct){if(cartProduct._id===product._id)return _objectSpread(_objectSpread({},cartProduct),{},{quantity:cartProduct.quantity+quantity});});setCartItems(updatedCartItems);}else{product.quantity=quantity;setCartItems([].concat(_toConsumableArray(cartItems),[_objectSpread({},product)]));}toast.success(\"\".concat(qty,\" \").concat(product.name,\" added to the cart.\"));};var onRemove=function onRemove(product){foundProduct=cartItems.find(function(item){return item._id===product._id;});var newCartItems=cartItems.filter(function(item){return item._id!==product._id;});setTotalPrice(function(prevTotalPrice){return prevTotalPrice-foundProduct.price*foundProduct.quantity;});setTotalQuantities(function(prevTotalQuantities){return prevTotalQuantities-foundProduct.quantity;});setCartItems(newCartItems);};/// left off here fri 14/2023 FIX THIS, UPDATING ORDER OF STUFF IN CART\nvar toggleCartItemQuantity=function toggleCartItemQuantity(id,value){foundProduct=cartItems.find(function(item){return item._id===id;});index=cartItems.findIndex(function(product){return product._id===id;});var newCartItems=cartItems.filter(function(item){return item._id!==id;});if(value==='inc'){setCartItems(function(prevCartItems){return prevCartItems.map(function(item){if(item._id===id){return _objectSpread(_objectSpread({},item),{},{quantity:foundProduct.quantity+1});}return item;});});setTotalPrice(function(prevTotalPrice){return prevTotalPrice+foundProduct.price;});setTotalQuantities(function(prevTotalQuantities){return prevTotalQuantities+1;});}else if(value==='dec'){if(foundProduct.quantity>1){setCartItems(function(prevCartItems){return prevCartItems.map(function(item){if(item._id===id){return _objectSpread(_objectSpread({},item),{},{quantity:foundProduct.quantity-1});}return item;});});setTotalPrice(function(prevTotalPrice){return prevTotalPrice-foundProduct.price;});setTotalQuantities(function(prevTotalQuantities){return prevTotalQuantities-1;});}}};var incQty=function incQty(){setQty(function(prevQty){return prevQty+1;});};var decQty=function decQty(){setQty(function(prevQty){if(prevQty-1<1)return 1;return prevQty-1;});};return/*#__PURE__*/_jsx(Context.Provider,{value:{showCart:showCart,setShowCart:setShowCart,cartItems:cartItems,totalPrice:totalPrice,totalQuantities:totalQuantities,qty:qty,incQty:incQty,decQty:decQty,onAdd:onAdd,toggleCartItemQuantity:toggleCartItemQuantity,onRemove:onRemove,setCartItems:setCartItems,setTotalPrice:setTotalPrice,setTotalQuantities:setTotalQuantities},children:children});};export var useStateContext=function useStateContext(){return useContext(Context);};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","toast","jsx","_jsx","Context","StateContext","_ref","children","_useState","_useState2","_slicedToArray","showCart","setShowCart","_useState3","_useState4","cartItems","setCartItems","_useState5","_useState6","totalPrice","setTotalPrice","_useState7","_useState8","totalQuantities","setTotalQuantities","_useState9","_useState10","qty","setQty","foundProduct","index","onAdd","product","quantity","checkProductInCart","find","item","_id","prevTotalPrice","price","prevTotalQuantities","updatedCartItems","map","cartProduct","_objectSpread","concat","_toConsumableArray","success","name","onRemove","newCartItems","filter","toggleCartItemQuantity","id","value","findIndex","prevCartItems","incQty","prevQty","decQty","Provider","useStateContext"],"sources":["/Users/jawaadahmar/Desktop/atlas-clothing/client/src/context/StateContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { toast } from 'react-hot-toast';\n\nconst Context = createContext();\n\nexport const StateContext = ({ children }) => {\n  const [showCart, setShowCart] = useState(false);\n  const [cartItems, setCartItems] = useState([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [totalQuantities, setTotalQuantities] = useState(0);\n  const [qty, setQty] = useState(1);\n\n  let foundProduct;\n  let index;\n\n  const onAdd = (product, quantity) => {\n    const checkProductInCart = cartItems.find((item) => item._id === product._id);\n    \n    setTotalPrice((prevTotalPrice) => prevTotalPrice + product.price * quantity);\n    setTotalQuantities((prevTotalQuantities) => prevTotalQuantities + quantity);\n    \n    if(checkProductInCart) {\n      const updatedCartItems = cartItems.map((cartProduct) => {\n        if(cartProduct._id === product._id) return {\n          ...cartProduct,\n          quantity: cartProduct.quantity + quantity\n        }\n      })\n\n      setCartItems(updatedCartItems);\n    } else {\n      product.quantity = quantity;\n      \n      setCartItems([...cartItems, { ...product }]);\n    }\n\n    toast.success(`${qty} ${product.name} added to the cart.`);\n  } \n\n  const onRemove = (product) => {\n    foundProduct = cartItems.find((item) => item._id === product._id);\n    const newCartItems = cartItems.filter((item) => item._id !== product._id);\n\n    setTotalPrice((prevTotalPrice) => prevTotalPrice -foundProduct.price * foundProduct.quantity);\n    setTotalQuantities(prevTotalQuantities => prevTotalQuantities - foundProduct.quantity);\n    setCartItems(newCartItems);\n  }\n  /// left off here fri 14/2023 FIX THIS, UPDATING ORDER OF STUFF IN CART\n  const toggleCartItemQuantity = (id, value) => {\n    foundProduct = cartItems.find((item) => item._id === id)\n    index = cartItems.findIndex((product) => product._id === id);\n    const newCartItems = cartItems.filter((item) => item._id !== id)\n\n    if(value === 'inc') {\n        setCartItems( prevCartItems => \n            prevCartItems.map( item => {          \n                if (item._id === id){\n                    return {...item, quantity: foundProduct.quantity + 1}\n                }\n                return item\n            })\n        );\n      setTotalPrice((prevTotalPrice) => prevTotalPrice + foundProduct.price)\n      setTotalQuantities(prevTotalQuantities => prevTotalQuantities + 1)\n    } else if(value === 'dec') {\n      if (foundProduct.quantity > 1) {\n        setCartItems( prevCartItems => \n            prevCartItems.map( item => {          \n                if (item._id === id){\n                    return {...item, quantity: foundProduct.quantity - 1}\n                }\n                return item\n            })\n        );\n        setTotalPrice((prevTotalPrice) => prevTotalPrice - foundProduct.price)\n        setTotalQuantities(prevTotalQuantities => prevTotalQuantities - 1)\n      }\n    }\n\n\n    \n    \n  }\n\n  const incQty = () => {\n    setQty((prevQty) => prevQty + 1);\n  }\n\n  const decQty = () => {\n    setQty((prevQty) => {\n      if(prevQty - 1 < 1) return 1;\n     \n      return prevQty - 1;\n    });\n  }\n\n  return (\n    <Context.Provider\n      value={{\n        showCart,\n        setShowCart,\n        cartItems,\n        totalPrice,\n        totalQuantities,\n        qty,\n        incQty,\n        decQty,\n        onAdd,\n        toggleCartItemQuantity,\n        onRemove,\n        setCartItems,\n        setTotalPrice,\n        setTotalQuantities \n      }}\n    >\n      {children}\n    </Context.Provider>\n  )\n}\n\nexport const useStateContext = () => useContext(Context);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}