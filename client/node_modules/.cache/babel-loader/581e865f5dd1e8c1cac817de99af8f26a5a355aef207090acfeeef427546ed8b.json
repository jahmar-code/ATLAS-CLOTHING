{"ast":null,"code":"var nextHandle=1;var resolved;var activeHandles={};function findAndClearHandle(handle){if(handle in activeHandles){delete activeHandles[handle];return true;}return false;}export var Immediate={setImmediate:function setImmediate(cb){var handle=nextHandle++;activeHandles[handle]=true;if(!resolved){resolved=Promise.resolve();}resolved.then(function(){return findAndClearHandle(handle)&&cb();});return handle;},clearImmediate:function clearImmediate(handle){findAndClearHandle(handle);}};export var TestTools={pending:function pending(){return Object.keys(activeHandles).length;}};","map":{"version":3,"names":["nextHandle","resolved","activeHandles","findAndClearHandle","handle","Immediate","setImmediate","cb","Promise","resolve","then","clearImmediate","TestTools","pending","Object","keys","length"],"sources":["/Users/jawaadahmar/Desktop/atlas-clothing/client/src/thistle-lion/node_modules/rxjs/src/internal/util/Immediate.ts"],"sourcesContent":["let nextHandle = 1;\n// The promise needs to be created lazily otherwise it won't be patched by Zones\nlet resolved: Promise<any>;\nconst activeHandles: { [key: number]: any } = {};\n\n/**\n * Finds the handle in the list of active handles, and removes it.\n * Returns `true` if found, `false` otherwise. Used both to clear\n * Immediate scheduled tasks, and to identify if a task should be scheduled.\n */\nfunction findAndClearHandle(handle: number): boolean {\n  if (handle in activeHandles) {\n    delete activeHandles[handle];\n    return true;\n  }\n  return false;\n}\n\n/**\n * Helper functions to schedule and unschedule microtasks.\n */\nexport const Immediate = {\n  setImmediate(cb: () => void): number {\n    const handle = nextHandle++;\n    activeHandles[handle] = true;\n    if (!resolved) {\n      resolved = Promise.resolve();\n    }\n    resolved.then(() => findAndClearHandle(handle) && cb());\n    return handle;\n  },\n\n  clearImmediate(handle: number): void {\n    findAndClearHandle(handle);\n  },\n};\n\n/**\n * Used for internal testing purposes only. Do not export from library.\n */\nexport const TestTools = {\n  pending() {\n    return Object.keys(activeHandles).length;\n  }\n};\n"],"mappings":"AAAA,GAAI,CAAAA,UAAU,CAAG,CAAC,CAElB,GAAI,CAAAC,QAAsB,CAC1B,GAAM,CAAAC,aAAa,CAA2B,EAAE,CAOhD,QAAS,CAAAC,kBAAkBA,CAACC,MAAc,EACxC,GAAIA,MAAM,GAAI,CAAAF,aAAa,CAAE,CAC3B,MAAO,CAAAA,aAAa,CAACE,MAAM,CAAC,CAC5B,MAAO,KAAI,C,CAEb,MAAO,MAAK,CACd,CAKA,MAAO,IAAM,CAAAC,SAAS,CAAG,CACvBC,YAAY,CAAZ,SAAAA,aAAaC,EAAc,EACzB,GAAM,CAAAH,MAAM,CAAGJ,UAAU,EAAE,CAC3BE,aAAa,CAACE,MAAM,CAAC,CAAG,IAAI,CAC5B,GAAI,CAACH,QAAQ,CAAE,CACbA,QAAQ,CAAGO,OAAO,CAACC,OAAO,EAAE,C,CAE9BR,QAAQ,CAACS,IAAI,CAAC,WAAM,OAAAP,kBAAkB,CAACC,MAAM,CAAC,EAAIG,EAAE,EAAE,CAAlC,CAAkC,CAAC,CACvD,MAAO,CAAAH,MAAM,CACf,CAAC,CAEDO,cAAc,CAAd,SAAAA,eAAeP,MAAc,EAC3BD,kBAAkB,CAACC,MAAM,CAAC,CAC5B,C,CACD,CAKD,MAAO,IAAM,CAAAQ,SAAS,CAAG,CACvBC,OAAO,UAAAA,QAAA,EACL,MAAO,CAAAC,MAAM,CAACC,IAAI,CAACb,aAAa,CAAC,CAACc,MAAM,CAC1C,C,CACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}