{"ast":null,"code":"import{__extends}from\"tslib\";import{AsyncAction}from'./AsyncAction';import{immediateProvider}from'./immediateProvider';var AsapAction=function(_super){__extends(AsapAction,_super);function AsapAction(scheduler,work){var _this=_super.call(this,scheduler,work)||this;_this.scheduler=scheduler;_this.work=work;return _this;}AsapAction.prototype.requestAsyncId=function(scheduler,id,delay){if(delay===void 0){delay=0;}if(delay!==null&&delay>0){return _super.prototype.requestAsyncId.call(this,scheduler,id,delay);}scheduler.actions.push(this);return scheduler._scheduled||(scheduler._scheduled=immediateProvider.setImmediate(scheduler.flush.bind(scheduler,undefined)));};AsapAction.prototype.recycleAsyncId=function(scheduler,id,delay){var _a;if(delay===void 0){delay=0;}if(delay!=null?delay>0:this.delay>0){return _super.prototype.recycleAsyncId.call(this,scheduler,id,delay);}var actions=scheduler.actions;if(id!=null&&((_a=actions[actions.length-1])===null||_a===void 0?void 0:_a.id)!==id){immediateProvider.clearImmediate(id);if(scheduler._scheduled===id){scheduler._scheduled=undefined;}}return undefined;};return AsapAction;}(AsyncAction);export{AsapAction};","map":{"version":3,"names":["AsyncAction","immediateProvider","AsapAction","_super","__extends","scheduler","work","_this","call","prototype","requestAsyncId","id","delay","actions","push","_scheduled","setImmediate","flush","bind","undefined","recycleAsyncId","_a","length","clearImmediate"],"sources":["/Users/jawaadahmar/Desktop/atlas-clothing/client/src/thistle-lion/node_modules/rxjs/src/internal/scheduler/AsapAction.ts"],"sourcesContent":["import { AsyncAction } from './AsyncAction';\nimport { AsapScheduler } from './AsapScheduler';\nimport { SchedulerAction } from '../types';\nimport { immediateProvider } from './immediateProvider';\nimport { TimerHandle } from './timerHandle';\n\nexport class AsapAction<T> extends AsyncAction<T> {\n  constructor(protected scheduler: AsapScheduler, protected work: (this: SchedulerAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  protected requestAsyncId(scheduler: AsapScheduler, id?: TimerHandle, delay: number = 0): TimerHandle {\n    // If delay is greater than 0, request as an async action.\n    if (delay !== null && delay > 0) {\n      return super.requestAsyncId(scheduler, id, delay);\n    }\n    // Push the action to the end of the scheduler queue.\n    scheduler.actions.push(this);\n    // If a microtask has already been scheduled, don't schedule another\n    // one. If a microtask hasn't been scheduled yet, schedule one now. Return\n    // the current scheduled microtask id.\n    return scheduler._scheduled || (scheduler._scheduled = immediateProvider.setImmediate(scheduler.flush.bind(scheduler, undefined)));\n  }\n\n  protected recycleAsyncId(scheduler: AsapScheduler, id?: TimerHandle, delay: number = 0): TimerHandle | undefined {\n    // If delay exists and is greater than 0, or if the delay is null (the\n    // action wasn't rescheduled) but was originally scheduled as an async\n    // action, then recycle as an async action.\n    if (delay != null ? delay > 0 : this.delay > 0) {\n      return super.recycleAsyncId(scheduler, id, delay);\n    }\n    // If the scheduler queue has no remaining actions with the same async id,\n    // cancel the requested microtask and set the scheduled flag to undefined\n    // so the next AsapAction will request its own.\n    const { actions } = scheduler;\n    if (id != null && actions[actions.length - 1]?.id !== id) {\n      immediateProvider.clearImmediate(id);\n      if (scheduler._scheduled === id) {\n        scheduler._scheduled = undefined;\n      }\n    }\n    // Return undefined so the action knows to request a new async id if it's rescheduled.\n    return undefined;\n  }\n}\n"],"mappings":"6BAAA,OAASA,WAAW,KAAQ,eAAe,CAG3C,OAASC,iBAAiB,KAAQ,qBAAqB,CAGvD,IAAAC,UAAA,UAAAC,MAAA,EAAmCC,SAAA,CAAAF,UAAA,CAAAC,MAAA,EACjC,SAAAD,WAAsBG,SAAwB,CAAYC,IAAmD,EAA7G,IAAAC,KAAA,CACEJ,MAAA,CAAAK,IAAA,MAAMH,SAAS,CAAEC,IAAI,CAAC,OADFC,KAAA,CAAAF,SAAS,CAATA,SAAS,CAA2BE,KAAA,CAAAD,IAAI,CAAJA,IAAI,C,aAE9D,CAEUJ,UAAA,CAAAO,SAAA,CAAAC,cAAc,CAAxB,SAAyBL,SAAwB,CAAEM,EAAgB,CAAEC,KAAiB,EAAjB,GAAAA,KAAA,WAAAA,KAAA,EAAiB,EAEpF,GAAIA,KAAK,GAAK,IAAI,EAAIA,KAAK,CAAG,CAAC,CAAE,CAC/B,MAAO,CAAAT,MAAA,CAAAM,SAAA,CAAMC,cAAc,CAAAF,IAAA,MAACH,SAAS,CAAEM,EAAE,CAAEC,KAAK,CAAC,C,CAGnDP,SAAS,CAACQ,OAAO,CAACC,IAAI,CAAC,IAAI,CAAC,CAI5B,MAAO,CAAAT,SAAS,CAACU,UAAU,GAAKV,SAAS,CAACU,UAAU,CAAGd,iBAAiB,CAACe,YAAY,CAACX,SAAS,CAACY,KAAK,CAACC,IAAI,CAACb,SAAS,CAAEc,SAAS,CAAC,CAAC,CAAC,CACpI,CAAC,CAESjB,UAAA,CAAAO,SAAA,CAAAW,cAAc,CAAxB,SAAyBf,SAAwB,CAAEM,EAAgB,CAAEC,KAAiB,E,OAAjB,GAAAA,KAAA,WAAAA,KAAA,EAAiB,EAIpF,GAAIA,KAAK,EAAI,IAAI,CAAGA,KAAK,CAAG,CAAC,CAAG,IAAI,CAACA,KAAK,CAAG,CAAC,CAAE,CAC9C,MAAO,CAAAT,MAAA,CAAAM,SAAA,CAAMW,cAAc,CAAAZ,IAAA,MAACH,SAAS,CAAEM,EAAE,CAAEC,KAAK,CAAC,C,CAK3C,IAAAC,OAAO,CAAKR,SAAS,CAAAQ,OAAd,CACf,GAAIF,EAAE,EAAI,IAAI,EAAI,EAAAU,EAAA,CAAAR,OAAO,CAACA,OAAO,CAACS,MAAM,CAAG,CAAC,CAAC,UAAAD,EAAA,iBAAAA,EAAA,CAAEV,EAAE,IAAKA,EAAE,CAAE,CACxDV,iBAAiB,CAACsB,cAAc,CAACZ,EAAE,CAAC,CACpC,GAAIN,SAAS,CAACU,UAAU,GAAKJ,EAAE,CAAE,CAC/BN,SAAS,CAACU,UAAU,CAAGI,SAAS,C,EAIpC,MAAO,CAAAA,SAAS,CAClB,CAAC,CACH,OAAAjB,UAAC,CAAD,CAAC,CAtCkCF,WAAW,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}