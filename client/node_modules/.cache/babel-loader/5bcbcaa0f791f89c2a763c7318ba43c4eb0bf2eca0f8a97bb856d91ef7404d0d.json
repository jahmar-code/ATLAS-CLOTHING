{"ast":null,"code":"import{__extends}from\"tslib\";import{AsyncAction}from'./AsyncAction';import{animationFrameProvider}from'./animationFrameProvider';var AnimationFrameAction=function(_super){__extends(AnimationFrameAction,_super);function AnimationFrameAction(scheduler,work){var _this=_super.call(this,scheduler,work)||this;_this.scheduler=scheduler;_this.work=work;return _this;}AnimationFrameAction.prototype.requestAsyncId=function(scheduler,id,delay){if(delay===void 0){delay=0;}if(delay!==null&&delay>0){return _super.prototype.requestAsyncId.call(this,scheduler,id,delay);}scheduler.actions.push(this);return scheduler._scheduled||(scheduler._scheduled=animationFrameProvider.requestAnimationFrame(function(){return scheduler.flush(undefined);}));};AnimationFrameAction.prototype.recycleAsyncId=function(scheduler,id,delay){var _a;if(delay===void 0){delay=0;}if(delay!=null?delay>0:this.delay>0){return _super.prototype.recycleAsyncId.call(this,scheduler,id,delay);}var actions=scheduler.actions;if(id!=null&&((_a=actions[actions.length-1])===null||_a===void 0?void 0:_a.id)!==id){animationFrameProvider.cancelAnimationFrame(id);scheduler._scheduled=undefined;}return undefined;};return AnimationFrameAction;}(AsyncAction);export{AnimationFrameAction};","map":{"version":3,"names":["AsyncAction","animationFrameProvider","AnimationFrameAction","_super","__extends","scheduler","work","_this","call","prototype","requestAsyncId","id","delay","actions","push","_scheduled","requestAnimationFrame","flush","undefined","recycleAsyncId","_a","length","cancelAnimationFrame"],"sources":["/Users/jawaadahmar/Desktop/atlas-clothing/client/src/thistle-lion/node_modules/rxjs/src/internal/scheduler/AnimationFrameAction.ts"],"sourcesContent":["import { AsyncAction } from './AsyncAction';\nimport { AnimationFrameScheduler } from './AnimationFrameScheduler';\nimport { SchedulerAction } from '../types';\nimport { animationFrameProvider } from './animationFrameProvider';\nimport { TimerHandle } from './timerHandle';\n\nexport class AnimationFrameAction<T> extends AsyncAction<T> {\n  constructor(protected scheduler: AnimationFrameScheduler, protected work: (this: SchedulerAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  protected requestAsyncId(scheduler: AnimationFrameScheduler, id?: TimerHandle, delay: number = 0): TimerHandle {\n    // If delay is greater than 0, request as an async action.\n    if (delay !== null && delay > 0) {\n      return super.requestAsyncId(scheduler, id, delay);\n    }\n    // Push the action to the end of the scheduler queue.\n    scheduler.actions.push(this);\n    // If an animation frame has already been requested, don't request another\n    // one. If an animation frame hasn't been requested yet, request one. Return\n    // the current animation frame request id.\n    return scheduler._scheduled || (scheduler._scheduled = animationFrameProvider.requestAnimationFrame(() => scheduler.flush(undefined)));\n  }\n\n  protected recycleAsyncId(scheduler: AnimationFrameScheduler, id?: TimerHandle, delay: number = 0): TimerHandle | undefined {\n    // If delay exists and is greater than 0, or if the delay is null (the\n    // action wasn't rescheduled) but was originally scheduled as an async\n    // action, then recycle as an async action.\n    if (delay != null ? delay > 0 : this.delay > 0) {\n      return super.recycleAsyncId(scheduler, id, delay);\n    }\n    // If the scheduler queue has no remaining actions with the same async id,\n    // cancel the requested animation frame and set the scheduled flag to\n    // undefined so the next AnimationFrameAction will request its own.\n    const { actions } = scheduler;\n    if (id != null && actions[actions.length - 1]?.id !== id) {\n      animationFrameProvider.cancelAnimationFrame(id as number);\n      scheduler._scheduled = undefined;\n    }\n    // Return undefined so the action knows to request a new async id if it's rescheduled.\n    return undefined;\n  }\n}\n"],"mappings":"6BAAA,OAASA,WAAW,KAAQ,eAAe,CAG3C,OAASC,sBAAsB,KAAQ,0BAA0B,CAGjE,IAAAC,oBAAA,UAAAC,MAAA,EAA6CC,SAAA,CAAAF,oBAAA,CAAAC,MAAA,EAC3C,SAAAD,qBAAsBG,SAAkC,CAAYC,IAAmD,EAAvH,IAAAC,KAAA,CACEJ,MAAA,CAAAK,IAAA,MAAMH,SAAS,CAAEC,IAAI,CAAC,OADFC,KAAA,CAAAF,SAAS,CAATA,SAAS,CAAqCE,KAAA,CAAAD,IAAI,CAAJA,IAAI,C,aAExE,CAEUJ,oBAAA,CAAAO,SAAA,CAAAC,cAAc,CAAxB,SAAyBL,SAAkC,CAAEM,EAAgB,CAAEC,KAAiB,EAAjB,GAAAA,KAAA,WAAAA,KAAA,EAAiB,EAE9F,GAAIA,KAAK,GAAK,IAAI,EAAIA,KAAK,CAAG,CAAC,CAAE,CAC/B,MAAO,CAAAT,MAAA,CAAAM,SAAA,CAAMC,cAAc,CAAAF,IAAA,MAACH,SAAS,CAAEM,EAAE,CAAEC,KAAK,CAAC,C,CAGnDP,SAAS,CAACQ,OAAO,CAACC,IAAI,CAAC,IAAI,CAAC,CAI5B,MAAO,CAAAT,SAAS,CAACU,UAAU,GAAKV,SAAS,CAACU,UAAU,CAAGd,sBAAsB,CAACe,qBAAqB,CAAC,WAAM,OAAAX,SAAS,CAACY,KAAK,CAACC,SAAS,CAAC,CAA1B,CAA0B,CAAC,CAAC,CACxI,CAAC,CAEShB,oBAAA,CAAAO,SAAA,CAAAU,cAAc,CAAxB,SAAyBd,SAAkC,CAAEM,EAAgB,CAAEC,KAAiB,E,OAAjB,GAAAA,KAAA,WAAAA,KAAA,EAAiB,EAI9F,GAAIA,KAAK,EAAI,IAAI,CAAGA,KAAK,CAAG,CAAC,CAAG,IAAI,CAACA,KAAK,CAAG,CAAC,CAAE,CAC9C,MAAO,CAAAT,MAAA,CAAAM,SAAA,CAAMU,cAAc,CAAAX,IAAA,MAACH,SAAS,CAAEM,EAAE,CAAEC,KAAK,CAAC,C,CAK3C,IAAAC,OAAO,CAAKR,SAAS,CAAAQ,OAAd,CACf,GAAIF,EAAE,EAAI,IAAI,EAAI,EAAAS,EAAA,CAAAP,OAAO,CAACA,OAAO,CAACQ,MAAM,CAAG,CAAC,CAAC,UAAAD,EAAA,iBAAAA,EAAA,CAAET,EAAE,IAAKA,EAAE,CAAE,CACxDV,sBAAsB,CAACqB,oBAAoB,CAACX,EAAY,CAAC,CACzDN,SAAS,CAACU,UAAU,CAAGG,SAAS,C,CAGlC,MAAO,CAAAA,SAAS,CAClB,CAAC,CACH,OAAAhB,oBAAC,CAAD,CAAC,CApC4CF,WAAW,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}